## To build debian-live with overlayfs you will need

  * A [patch](http://paste.debian.net/plain/114723) for live-boot until applied upstream

  * A linux kernel with overlayfs support
    - Get a kernel from [Miklos Szeredi's git repo](http://git.kernel.org/?p=linux/kernel/git/mszeredi/vfs.git;a=shortlog;h=refs/heads/overlayfs.v8). This is a work in progress but using this kernel you should be able to boot Debian Live. You can check the repo for more up-to-date branches.
    - Configure and build the kernel.

    CONFIG_TMPFS_XATTR=y

    CONFIG_OVERLAYFS_FS=m


    make-kpkg --rootcmd fakeroot --initrd --append-to-version -ovfs-i686 kernel-image kernel-headers

   - Unfortunately kernel-package and initramfs-tools package maintainers can't agree on a way to tell initramfs-tools to generate an initramfs so you will need to generate one in a [hook](../zzz-initramfs.sh) (put in chroot_local-hooks). Also cross-building i686 on amd64 seems broken.


  * Tell live-initramfs to use overlayfs instead of aufs
     - Use some arguments like these with lb config

    -k ovfs-i686+ \

    --bootappend-live union=overlayfs \

    --packages "httpfs2 less open-iscsi links2" \

    --linux-packages linux-image-2.6.39-rc3 \

